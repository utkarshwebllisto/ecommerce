<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title></title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   </head>
   <body>
    
      <div class="container" align="left">
         <table border=5px>

      <button class="apireq">click me </button> 
</div>
<div id="jsonresp" style="margin-top: 100px">
   <p><label></label> <span id="pname"></span></p>
   <p><label></label> <span id="price"></span></p>
   <p><label></label> <span id="owner"></span></p>
   <p><label></label> <span id="product_detail"></span></p> 
</div>

            <tr>
               <th>product name</th>
               <th>select </th>
               
            </tr>

         </table>
      </div>
 </form>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script>
         fetch('http://localhost:8000/Product/')
             .then(function (response){
                 return response.json();
             })
             .then(function (data) {
                 appendData(data);
             })
             .catch(function (err) {
                 console.log('error: ' + err);
             });
           // // $('.apireq').click( function() {
           //  $.ajax({
           //   url : "http://localhost:8000/Product",
           //   dataType: "json",
           //   success : 
           function appendData(data) {
                       var mainContainer = document.getElementById("myData");
                        var tr;
             for (var i = 0; i < data.length; i++) {
                 debugger;
                 tr = $('<tr/>');
                 // tr.append("<td>" + data[i].id + "</td>");
                 // tr.append("<td>" + data[i].pname + "</td>");
                 tr.append("<td>" + data[i].pname + "</td>");
                 var url = "ProductDetail/"+data[i].id;
                 tr.append("<a href = " + url + ">" + 'Show detail' + '</a>')
                 $('table').append(tr);
             }
         }
       </script>
       <script>
            $('.apireq').click( function() {
    $.ajax({
             url : "http://localhost:8000/Product",
             type: "GET",
             dataType: "json",
             success : function (data) {
                      $('#id').text( data[0].id);
                      $('#pname').text( data[0].pname);
                      $('#price').text( data[0].price);
                      $('#owner').text( data[0].owner);
                      $('#product_detail').text( data[0].product_detail);
                           }
                 });
         }
      </script>
    

   </body>
</html> 